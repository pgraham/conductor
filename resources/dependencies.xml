<?xml version="1.0" standalone="yes"?>
<beans>

  <!-- Add logger as dependency. Appenders are configured programatically by
       zpt\cdt\Conductor::init() -->
  <bean id="logger" class="Monolog\Logger">
    <ctorArg value="cdt"/>
  </bean>

  <bean id="companionNamingStrategy" class="zpt\opal\DefaultNamingStrategy"/>

  <bean id="companionLoader" class="zpt\opal\CompanionLoader">
    <ctorArg ref="companionNamingStrategy"/>
  </bean>

  <bean id="configValueProvider" class="zpt\cdt\ConfigValueProvider">
    <ctorArg ref="companionLoader"/>
  </bean>

  <bean id="authProvider" class="zpt\cdt\AuthProvider" initMethod="init">
    <ctorArg ref="companionLoader" />
  </bean>

  <bean id="defaultGatekeeper" class="zpt\cdt\crud\DefaultGatekeeper">
    <property name="authProvider" ref="authProvider"/>
  </bean>

  <bean id="session" class="zpt\cdt\Session" initMethod="init">
    <property name="authProvider" ref="authProvider"/>
  </bean>

  <bean id="spfParser" class="zpt\cdt\crud\SpfParser"/>

</beans>
